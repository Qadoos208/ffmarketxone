<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
/* Use same dark theme as signin.html */
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background-color: #0c0c0c;
  color: #fff;
}

/* Navbar */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #111;
  padding: 15px 25px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.5);
  flex-wrap: wrap;
  position: sticky;
  top: 0;
  z-index: 100;
}

.navbar .logo a { text-decoration: none; color: #ff4747; font-size: 1.6em; font-weight: 700; letter-spacing: 1px; transition: color 0.3s ease, transform 0.3s ease; }
.navbar .logo a:hover { color: #ff0000; transform: scale(1.05); }

.navbar ul { display: flex; flex-wrap: wrap; list-style: none; margin: 10px 0 0 0; padding: 0; }
.navbar ul li { margin: 5px 10px; }
.navbar ul li a { text-decoration: none; color: #fff; transition: 0.3s; }
.navbar ul li a:hover { color: #ff4747; }

.menu-toggle, .close-toggle { display: none; }
.close-toggle { display: none; flex-direction: column; justify-content: center; width: 36px; height: 36px; cursor: pointer; margin-left: auto; position: absolute; top: 10px; right: 20px; z-index: 1100; }
.close-toggle span { font-size: 2.2em; color: #fff; line-height: 1; text-align: center; }

@media (max-width: 900px) {
  .menu-toggle { display: flex; flex-direction: column; justify-content: center; width: 36px; height: 36px; cursor: pointer; margin-left: auto; }
  .menu-toggle span { height: 4px; width: 100%; background: #fff; margin: 5px 0; border-radius: 2px; transition: 0.3s; }
  .navbar ul { position: fixed; top: -300px; left: 0; right: 0; width: 100%; background: #222; flex-direction: column; align-items: flex-start; padding: 70px 0 20px 0; transition: top 0.3s ease; box-shadow: 0 4px 16px rgba(0,0,0,0.12); }
  .navbar ul.active { top: 0; }
  .navbar ul li { margin: 18px 0 0 24px; }
}

/* Signup container like signin page */
.signup-container {
  background: #1a1a1a;
  padding: 40px 30px;
  border-radius: 10px;
  max-width: 420px;
  margin: 80px auto;
  box-shadow: 0 0 15px rgba(255,71,71,0.15);
}
.signup-container h1 { text-align: center; color: #ff4747; margin-bottom: 25px; }

form { display: flex; flex-direction: column; gap: 14px; }
label { color: #fff; font-size: 1em; }
input[type="text"], input[type="email"], input[type="password"], input[type="tel"] { padding: 12px; border-radius: 6px; border: 1px solid #333; background: #0c0c0c; color: #fff; font-size: 1em; outline: none; }
input[type="text"]:focus, input[type="email"]:focus, input[type="password"]:focus, input[type="tel"]:focus { border-color: #ff4747; }
input[type="submit"] { padding: 14px 0; background: #ff4747; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1.2em; font-weight: bold; letter-spacing: 0.5px; transition: background 0.3s; }
input[type="submit"]:hover { background: #ff2626; }
.signin-link { text-align: center; color: #bbb; margin-top: 10px; }
.signin-link a { color: #ff4747; text-decoration: none; font-weight: bold; }
.signin-link a:hover { text-decoration: underline; }

/* Footer */
footer { text-align: center; background: #111; padding: 15px 0; color: #888; font-size: 0.9em; margin-top: 30px; border-top: 1px solid #222; }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="logo"><a href="index.html">FFMarket Zone</a></div>
    <div class="menu-toggle" id="menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="close-toggle" id="close-toggle">
      <span>&#10005;</span>
    </div>
    <ul class="navbar-menu" id="navbar-menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="ids.html">IDs</a></li>
      <li><a href="signin.html">Sign In</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <div class="signup-container">
    <h1>Sign Up</h1>
  <form id="signupForm">
  <label for="name">Full Name</label>
  <input type="text" id="name" placeholder="Enter your full name" required>

  <label for="email">Email</label>
  <input type="email" id="email" placeholder="Enter your email" required>

  <label for="phone">Phone Number</label>
  <input type="tel" id="phone" placeholder="Enter your phone number" required>

  <label for="password">Password</label>
  <input type="password" id="password" placeholder="Enter your password" required>

  <input type="submit" value="Sign Up">
</form>


    <div class="signin-link">Already have an account? <a href="signin.html">Sign In</a></div>
  </div>

  <script>
    // Navbar mobile menu slide down logic with cross button
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.getElementById('menu-toggle');
      const closeToggle = document.getElementById('close-toggle');
      const navbarMenu = document.getElementById('navbar-menu');
      let menuOpen = false;
      function openMenu() {
        navbarMenu.classList.add('active');
        menuToggle.style.display = 'none';
        closeToggle.style.display = 'flex';
        menuOpen = true;
      }
      function closeMenu() {
        navbarMenu.classList.remove('active');
        menuToggle.style.display = 'flex';
        closeToggle.style.display = 'none';
        menuOpen = false;
      }
      if (menuToggle && closeToggle && navbarMenu) {
        menuToggle.addEventListener('click', openMenu);
        closeToggle.addEventListener('click', closeMenu);
        // Close menu when a link is clicked (mobile)
        navbarMenu.querySelectorAll('a').forEach(function(link) {
          link.addEventListener('click', closeMenu);
        });
      }
      // Optional: close menu on resize to desktop
      window.addEventListener('resize', function() {
        if (window.innerWidth > 900) {
          menuToggle.style.display = '';
          closeToggle.style.display = 'none';
          navbarMenu.classList.remove('active');
          menuOpen = false;
        }
      });
      // ESC key closes menu
      document.addEventListener('keydown', function(e) {
        if (menuOpen && (e.key === 'Escape' || e.key === 'Esc')) closeMenu();
      });
    });

    // Supabase signup logic (unchanged)
    const supabaseUrl = 'https://betluqegtnpriftqmasu.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJldGx1cWVndG5wcmlmdHFtYXN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NjM5NjksImV4cCI6MjA2OTQzOTk2OX0.vy5lRHLmqUq1lQV1U_gUuoY9QDjNupvsisC6Sb43Kr8';
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

    document.getElementById("signupForm").addEventListener("submit", async (e) => {
      e.preventDefault();

     const name = document.getElementById("name").value.trim();
const email = document.getElementById("email").value.trim();
const phone = document.getElementById("phone").value.trim();
const password = document.getElementById("password").value.trim();

if (!name || !email || !phone || !password) {
  alert("⚠️ Please fill all fields!");
  return;
}

try {
  // ✅ Create user in Supabase Auth
  const { data: signUpData, error: signUpError } = await supabase.auth.signUp({
    email,
    password,
    options: {
      data: { name, phone } // save extra fields in user_metadata
    }
  });

  if (signUpError) {
    alert("❌ Signup failed: " + signUpError.message);
    return;
  }

  // ✅ Also insert user data into ffmarketzone table
  const user_id = signUpData.user.id;
  const { error: dbError } = await supabase
    .from("ffmarketzone")
    .insert([{ user_id, name, email, phone }]);

  if (dbError) {
    alert("⚠️ Account created but DB insert failed: " + dbError.message);
  } else {
    alert("✅ Signup successful!");
    document.getElementById("signupForm").reset();
  }
} catch (err) {
  console.error(err);
  alert("❌ Something went wrong!");
}
    });
   
  </script>

   <footer class="site-footer">
      <div class="footer-container">
        <!-- Brand Section -->
        <div class="footer-section brand">
          <h2>FFMarket Zone</h2>
          <p>Trusted platform to buy and sell Free Fire accounts securely and quickly.</p>
        </div>
        <!-- Quick Links -->
        <div class="footer-section">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="buy.html">Buy Accounts</a></li>
            <li><a href="ids.html">Sell Accounts</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>
        <!-- Contact Info -->
        <div class="footer-section">
          <h4>Contact</h4>
          <p>Email: support@ffmarketzone.com</p>
          <p>Phone: +92 329 5350515</p>
          <p>WhatsApp: Available 24/7</p>
        </div>
        <!-- Social Links -->
        <div class="footer-section">
          <h4>Follow Us</h4>
          <a href="https://api.whatsapp.com/send/?phone=923295350515&text&type=phone_number&app_absent=0">whatsapp</a>
          <a href="#">tiktok</a>
          <a href="#">YouTube</a>
        </div>
      </div>
      <hr>
      <p class="copyright">&copy; 2025 FFMarket Zone. All rights reserved.</p>
    </footer>

</body>
</html>